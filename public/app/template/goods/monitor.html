<md-card>
    <md-card-title>

        <div layout="row" style="width:100%">

            <div flex="100">
                <select-page limit="selectPage.limit" get-data="selectPage.getData" input-list="inputList"
                             select-list="selectList"></select-page>
            </div>

            <button class="ui teal basic button tiny" ng-click="toggleAddModal('show')">Add</button>
        </div>
    </md-card-title>
    <md-card-content>
        <loading-man onload="onload"></loading-man>
        <md-table-container ng-if="onload">
            <table class="ui celled padded table" md-table>
                <thead md-head md-order="orderByName">
                <tr md-row>
                    <th md-column>监控ID</th>
                    <th md-column>关键字</th>
                    <th md-column>下一次更新时间</th>
                    <th md-column>任务最近更新</th>
                    <th md-column>检测店铺</th>
                    <th md-column>操作</th>
                </tr>
                </thead>
                <tbody md-body>
                <tr md-row ng-repeat="(k,single) in selectPage.data ">
                    <td md-cell ng-bind="single.watch_id"></td>
                    <td md-cell ng-bind="single.watch_index"></td>
                    <td md-cell ng-bind="single.watch_deadline"></td>
                    <td md-cell ng-bind="single.watch_last_update"></td>
                    <td md-cell ng-bind="single.shop_name"></td>
                    <td md-cell>
                        <button class="ui icon button" ng-click="toggleDetailModal('show',single)">
                            <i class="write icon"></i>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </md-table-container>

    </md-card-content>

    <div class="ui modal monitor_add" id="monitor_add">
        <i class="close icon"></i>
        <div class="header">
            添加新的关键字
        </div>
        <div class="image content">

            <md-input-container class="md-block" flex-gt-sm>
                <label>关键字</label>
                <input ng-model="tmp_m.watch_index">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
                <label>爬取周期(按照小时计)</label>
                <input ng-model="tmp_m.watch_cycle">
            </md-input-container>
        </div>
        <div class="actions">
            <div class="ui black deny button" ng-click="toggleAddModal('hide')">
                取消
            </div>
            <div class="ui positive right labeled icon button" ng-click="add(tmp_m)">
                提交
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>
    <div class="ui modal " id="monitor_detail" >
        <i class="close icon"></i>
        <div class="header">
            详情
        </div>
        <div class="image content" layout="row">
            <div flex="60" layout="row">
                <md-input-container class="md-block" flex="50" >
                    <label>关键字</label>
                    <input ng-model="detail.watch_index" disabled>
                </md-input-container>
                <md-input-container class="md-block" flex="50"  >
                    <label>爬取周期(按照小时计)</label>
                    <input ng-model="detail.watch_cycle" disabled>
                </md-input-container>
            </div>


        </div>
        <div class="actions">
            <div class="ui red deny button" ng-click="delete(detail.watch_id)">
                删除
            </div>
            <div class="ui black deny button" ng-click="toggleDetailModal('hide')">
                取消
            </div>
        </div>
    </div>
</md-card>


